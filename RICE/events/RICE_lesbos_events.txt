###############################################################################
# 
# LESBOS
# 
# lesbos.0000-lesbos.0019			Setup events, history events, miscellaneous events and decisions
# lesbos.0020-lesbos.0049			Kalends
# lesbos.0050-lesbos.0069			Pirate stuff
# lesbos.0080-lesbos.0099			Misc flavor events
# 
###############################################################################

namespace = lesbos

######################################################################################
# 
# SETUP EVENTS, HISTORY EVENTS, MISC DECISIONS
# 
# lesbos.0000-lesbos.0019
# 
######################################################################################


# Fortifying the Aegean Sea
lesbos.0010 = {
	type = character_event
	title = lesbos.0010.t
	desc = lesbos.0010.desc
	theme = martial
	override_background = { reference = RICE_background_lesbos_island }

	right_portrait = {
		character = root
		animation = war_defender
	}

	option = {
		name = lesbos.0010.a
		RICE_lesbos_fortify_aegean_region_effect = yes
	}
}



######################################################################################
# 
# KALENDS
# 
# lesbos.0020-lesbos.0039
# 
######################################################################################


# Preparations for Kalends
lesbos.0020 = {
	type = activity_event
	title = lesbos.0020.t
	desc = lesbos.0020.desc
	theme = friendly
	override_background = { reference = relaxing_room }
	
	right_portrait = root
	
	option = { # Ok
		name = lesbos.0020.a
		trigger_event = { # Approximate
			id = lesbos.0021
			trigger_on_next_date = 1.1
		}	
	}
}

# Kalends begins
lesbos.0021 = {
	type = activity_event
	title = lesbos.0021.t
	desc = lesbos.0021.desc
	theme = RICE_theme_kalends_celebration
	
	left_portrait = {
		character = root
		animation = happiness
	}

	immediate = {
		play_music_cue = mx_cue_banquet
	}
	
	option = { # Ok
		name = lesbos.0021.a
	}

	after = {
		
		# hidden_effect = {
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0024
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0025
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0026
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0027
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0028
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0029
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0030
		# 			days = { 5 32 }
		# 		}
		# 	}
		# 	random = {
		# 		chance = 25
		# 		trigger_event = {
		# 			id = lesbos.0031
		# 			days = { 5 32 }
		# 		}
		# 	}
		# }

		# Technically only a few days, but we're extending it to make events feel less spammy
		trigger_event = {
			id = lesbos.0022
			days = { 15 30 }
		}

		# Gift-giving event
		trigger_event = {
			id = lesbos.0023
			days = { 5 10 }
		}
		
	}
}

# Kalends ends
lesbos.0022 = {
	type = activity_event
	title = lesbos.0022.t
	desc = lesbos.0022.desc
	theme = RICE_theme_kalends_celebration
	
	left_portrait = {
		character = root
		animation = happiness
	}
	
	option = { # Fun!
		name = lesbos.0022.a
		RICE_roman_kalends_completed_log_entry_effect = yes
	}
	
	after = {
		scope:activity = {
			hidden_effect = { skip_activity_phase = yes }
		}
	}		
}



# Gift-giving event
lesbos.0023 = {
	type = activity_event
	title = lesbos.0023.t
	desc = lesbos.0023.desc
	theme = RICE_theme_kalends_celebration
	
	left_portrait = {
		character = root
		animation = personality_greedy
	}
	
	option = { # ok
		name = lesbos.0023.a
		if = {
			limit = {
				scope:activity = {
					has_activity_option = {
						category = RICE_roman_kalends_gift_type
						option = RICE_roman_kalends_gift_small
					}
				}
			}
			add_gold = { 1 tiny_gold_value }
		}
		else_if = {
			limit = {
				scope:activity = {
					has_activity_option = {
						category = RICE_roman_kalends_gift_type
						option = RICE_roman_kalends_gift_medium
					}
				}
			}
			add_gold = { 1 minor_gold_value }
		}
		else_if = {
			limit = {
				scope:activity = {
					has_activity_option = {
						category = RICE_roman_kalends_gift_type
						option = RICE_roman_kalends_gift_large
					}
				}
			}
			add_gold = { 1 medium_gold_value }
		}
	}
	
}


######################################################################################
# 
# PIRATES
# 
# lesbos.0050-lesbos.0069
# 
######################################################################################

# Work together with the pirates
lesbos.0050 = {
	type = character_event
	title = lesbos.0050.t
	desc = lesbos.0050.desc
	theme = realm
	
	left_portrait = root
	
	immediate = {
		capital_province = { save_scope_as = capital_province } #For loc.
		RICE_lesbos_add_mediterranean_pirate_den_effect = yes
		play_music_cue = "mx_cue_combat_3"
		custom_tooltip = lesbos.0050.tooltip
	}
	
	option = { # Ok
		name = lesbos.0050.a	
	}
}

# Establish Relations with Pirates
lesbos.0060 = {
	type = character_event
	title = lesbos.0060.t
	desc = lesbos.0060.desc
	theme = RICE_theme_mediterranean_piracy
	
	right_portrait = {
		character = root
		animation = personality_callous
	}
	
	option = { # Ok
		name = lesbos.0060.a
		RICE_mediterranean_pirates_establish_relations_effect = yes	
	}
}

# Acquire Pirate Booty
lesbos.0061 = {
	type = character_event
	title = lesbos.0061.t
	desc = {
		desc = mediterranean_pirate_intro_text
		desc = lesbos.0061.desc
	}
	theme = RICE_theme_mediterranean_piracy
	
	right_portrait = {
		character = root
		animation = personality_greedy
	}
	
	option = { # Ok
		name = lesbos.0061.a
		RICE_pirates_acquire_booty_effect = yes	
		RICE_pirates_acquire_booty_gold_effect = yes	
	}
}

# Authorize sales of pirate goods
lesbos.0062 = {
	type = character_event
	title = lesbos.0062.t
	desc = {
		desc = mediterranean_pirate_intro_text
		desc = lesbos.0062.desc
	}
	theme = RICE_theme_mediterranean_piracy
	
	right_portrait = {
		character = root
		animation = personality_rational
	}
	
	option = { # Ok
		name = lesbos.0062.a
		RICE_mediterranean_pirates_authorize_sales_effect = yes
	}
}

# Recruit pirates
lesbos.0063 = {
	type = character_event
	title = lesbos.0063.t
	desc = {
		desc = mediterranean_pirate_intro_text
		desc = lesbos.0063.desc
	}
	theme = RICE_theme_mediterranean_piracy
	
	right_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Ok
		name = lesbos.0063.a
		RICE_pirates_recruit_pirates_effect = yes
		custom_tooltip = RICE_pirate_recruit_pirates_effect_tooltip_1	
		# Can't show because result is randomized
		hidden_effect = {
			RICE_mediterranean_pirates_recruit_pirates_soldiers_effect = yes
		}
	}
}

# Ransom Pirate prisoners
lesbos.0064 = {
	type = character_event
	title = lesbos.0064.t
	desc = {
		desc = mediterranean_pirate_intro_text
		desc = lesbos.0064.desc
	}
	theme = RICE_theme_mediterranean_piracy
	
	right_portrait = {
		character = root
		animation = personality_bold
	}
	
	option = { # Ok
		name = lesbos.0064.a
		RICE_pirates_ransom_prisoners_effect = yes
		RICE_pirates_ransom_prisoners_gold_effect = yes
	}
}






