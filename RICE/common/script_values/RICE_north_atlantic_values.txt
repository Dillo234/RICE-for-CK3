


# Since the vanilla activity costs are unimmersively inflated at higher levels
RICE_north_atlantic_establish_estate_cost = {
	value = 50
	multiply = {
		value = root.primary_title.tier
		subtract = 1
		min = 1
	}
	if = {
		limit = {
			root.primary_title.tier > tier_duchy
		}
		add = 50
	}
	if = {
		limit = {
			root.primary_title.tier > tier_kingdom
		}
		add = 50
	}
	# House heads have an easier time doing it
	if = {
		limit = {
			is_house_head = yes
		}
		multiply = 0.75
	}
	min = 50
	max = 200
}


# Counts every county in region, to check against
RICE_struggle_greenland_ending_decision_region_total_value = {
	value = 0
	every_county_in_region = {
		region = RICE_greenland_struggle_region
		add = 1
	}
}

# Counter for controlled counties in North Atlantic
RICE_struggle_greenland_ending_decision_region_owned_value = {
	value = 0
	every_county_in_region = {
		region = RICE_greenland_struggle_region
		limit = { holder.top_liege = root }
		add = 1
	}
}

# Paramameter for percentage of North Atlantic that you cannot control
RICE_greenland_struggle_integration_owned_percent_value = 50

# Uses above to plug in to script as a decimal
RICE_greenland_struggle_integration_owned_percent_decimal_value = { 
	value = RICE_greenland_struggle_integration_owned_percent_value
	divide = 100
	max = 1
}

# Paramameter for percentage of North Atlantic that you cannot control
RICE_greenland_struggle_indigenous_owned_percent_value = 75

# Uses above to plug in to script as a decimal
RICE_greenland_struggle_indigenous_owned_percent_decimal_value = { 
	value = RICE_greenland_struggle_indigenous_owned_percent_value
	divide = 100
	max = 1
}


# Percentage of North Atlantic counties owned
RICE_greenland_struggle_region_owned_percent_value = {
	value = RICE_struggle_greenland_ending_decision_region_owned_value
	divide = RICE_struggle_greenland_ending_decision_region_total_value
	multiply = 100
}

RICE_medium_gold_with_estate_value = {
	value = medium_gold_value
	# Having an estate in Greenland makes it cheaper
	if = {
		limit = {
			exists = house
			house = { has_house_modifier = RICE_north_atlantic_greenland_family_estate }
		}
		multiply = 0.8
	}

}


RICE_north_atlantic_vinland_outpost_success_value = {
	value = 0
	# if = {
	# 	limit = {
	# 		exists = scope:overseer
	# 	}
	# 	if = {
	# 		limit = {
	# 			scope:overseer.stewardship < mediocre_skill_rating 
	# 		}
	# 		add = 3
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:overseer.stewardship >= mediocre_skill_rating 
	# 		}
	# 		add = 6
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:overseer.stewardship >= decent_skill_rating 
	# 		}
	# 		add = 9
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:overseer.stewardship >= high_skill_rating 
	# 		}
	# 		add = 12
	# 	}
	# 	else_if = {
	# 		limit = {
	# 			scope:overseer.stewardship >= very_high_skill_rating 
	# 		}
	# 		add = 15
	# 	}
	# }
	if = {
		limit = { exists = global_var:RICE_vinland_viability }
		add = global_var:RICE_vinland_viability
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 1.25
	}
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_subsistence
			}
		}
		multiply = 0.75
	}
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}
		}
		multiply = 0.5
	}
	min = 1
	max = 90
}


RICE_vinland_settlement_payment_value = {
	value = 100
	# if = {
	# 	limit = { exists = global_var:RICE_greenland_resilience }
	# 	subtract = {
	# 		value = global_var:RICE_greenland_resilience
	# 		divide = 10
	# 	}
	# }
	# if = {
	# 	limit = { exists = global_var:RICE_greenland_networks }
	# 	subtract = {
	# 		value = global_var:RICE_greenland_networks
	# 		divide = 10
	# 	}
	# }
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_subsistence
			}
		}
		multiply = 1.25
	}
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}
		}
		multiply = 1.5
	}
	if = {
		limit = { exists = global_var:RICE_vinland_viability }
		subtract = global_var:RICE_vinland_viability
	}
	min = 50
}

RICE_greenland_support_cooldown_time = {
	value = 3650
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}
		}
		add = 1825
	}
	else_if = {
		limit = {
			OR = {
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
				AND = {						
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
			}
		}
		subtract = 1825
	}
	#else = {
	#	add = 1825
	#}
}


RICE_vinland_auto_fail_chance_value = {
	value = 100
	if = {
		limit = { exists = global_var:RICE_vinland_viability }
		subtract = global_var:RICE_vinland_viability
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_integration
			}				
		}
		subtract = 10
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}				
		}
		add = 10
	}
	min = 10
	max = 80
}

RICE_greenland_resilience_fail_value = {
	value = 100
	if = {
		limit = { exists = global_var:RICE_greenland_resilience }
		subtract = global_var:RICE_greenland_resilience
	}
	min = 1
	max = 100
}

RICE_greenland_networks_fail_value = {
	value = 100
	if = {
		limit = { exists = global_var:RICE_greenland_networks }
		subtract = global_var:RICE_greenland_networks
	}
	min = 1
	max = 100
}


RICE_greenland_auto_fail_chance_value = {
	value = 0
	if = {
		limit = { exists = global_var:RICE_greenland_resilience }
		add = {
			value = RICE_greenland_resilience_fail_value
			multiply = 0.2
		}
	}
	if = {
		limit = { exists = global_var:RICE_greenland_networks }
		add = {
			value = RICE_greenland_networks_fail_value
			multiply = 0.2
		}
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_subsistence
			}				
		}
		add = 5
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}				
		}
		add = 10
	}
	min = 1
	max = 50
}


RICE_greenland_abandonment_compensation_value = {
	value = 50
	# Add more for tier level
	add = {
		value = root.primary_title.tier
		multiply = 25
	}
	# Add more for prestige level
	add = {
		value = prestige_level
		multiply = 25
	}
}

RICE_greenland_abandonment_compensation_initiater_value = {
	value = RICE_greenland_abandonment_compensation_value
	multiply = 1.25
}

RICE_greenland_annual_gold_max_value = {
	value = 0
	add = {
		value = global_var:RICE_greenland_resilience
		multiply = 0.05
	}
	add = {
		value = global_var:RICE_greenland_networks
		multiply = 0.05
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 1.1
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
			}			
		}
		multiply = 1.25
	}
	# else_if = {
	# 	limit = {
	# 		exists = struggle:RICE_greenland_struggle
	# 		struggle:RICE_greenland_struggle = {
	# 			is_struggle_phase = struggle_RICE_greenland_phase_subsistence
	# 		}				
	# 	}
	# 	add = 50
	# }
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}				
		}
		multiply = 0.5
	}
}

RICE_greenland_annual_prestige_max_value = {
	value = 0
	add = {
		value = global_var:RICE_greenland_networks
		multiply = 0.1
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 1.1
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
			}			
		}
		multiply = 1.25
	}
	# else_if = {
	# 	limit = {
	# 		exists = struggle:RICE_greenland_struggle
	# 		struggle:RICE_greenland_struggle = {
	# 			is_struggle_phase = struggle_RICE_greenland_phase_subsistence
	# 		}				
	# 	}
	# 	add = 50
	# }
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}				
		}
		multiply = 0.5
	}
}

RICE_greenland_annual_piety_max_value = {
	value = 0
	add = {
		value = global_var:RICE_greenland_resilience
		multiply = 0.25
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 1.1
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
			}			
		}
		multiply = 1.25
	}
	# else_if = {
	# 	limit = {
	# 		exists = struggle:RICE_greenland_struggle
	# 		struggle:RICE_greenland_struggle = {
	# 			is_struggle_phase = struggle_RICE_greenland_phase_subsistence
	# 		}				
	# 	}
	# 	add = 50
	# }
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}				
		}
		multiply = 0.5
	}
}


RICE_greenland_resilience_min_calc_value = {
	value = global_var:RICE_greenland_resilience
	subtract = 1000
}

RICE_greenland_networks_min_calc_value = {
	value = global_var:RICE_greenland_networks
	subtract = 1000
}


RICE_greenland_annual_gold_min_value = {
	value = 0
	add = {
		value = RICE_greenland_resilience_min_calc_value
		multiply = -0.01
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 0.5
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
			}			
		}
		multiply = 0.25
	}
	# if = {
	# 	limit = {
	# 		exists = struggle:RICE_greenland_struggle
	# 		struggle:RICE_greenland_struggle = {
	# 			is_struggle_phase = struggle_RICE_greenland_phase_subsistence
	# 		}				
	# 	}
	# 	multiply = 1.25
	# }
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_marginalization
			}				
		}
		multiply = 1.25
	}
	min = 0
}




RICE_greenland_annual_prestige_min_value = {
	value = 0
	add = {
		value = RICE_greenland_networks_min_calc_value
		multiply = 0.05
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 0.5
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
			}			
		}
		multiply = 0.25
	}
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_subsistence
			}				
		}
		multiply = 0.75
	}
	# else_if = {
	# 	limit = {
	# 		exists = struggle:RICE_greenland_struggle
	# 		struggle:RICE_greenland_struggle = {
	# 			is_struggle_phase = struggle_RICE_greenland_phase_marginalization
	# 		}				
	# 	}
	# 	multiply = 1.25
	# }
}

RICE_greenland_annual_piety_min_value = {
	value = 0
	add = {
		value = RICE_greenland_resilience_min_calc_value
		multiply = 0.05
	}
	if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_settlement
			}				
		}
		multiply = 0.5
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					exists = struggle:RICE_greenland_struggle
					struggle:RICE_greenland_struggle = {
						is_struggle_phase = struggle_RICE_greenland_phase_integration
					}
				}
				has_global_variable = RICE_greenland_ending_integration
				has_global_variable = RICE_greenland_ending_indigenous
			}			
		}
		multiply = 0.25
	}
	else_if = {
		limit = {
			exists = struggle:RICE_greenland_struggle
			struggle:RICE_greenland_struggle = {
				is_struggle_phase = struggle_RICE_greenland_phase_subsistence
			}				
		}
		multiply = 0.75
	}
	# else_if = {
	# 	limit = {
	# 		exists = struggle:RICE_greenland_struggle
	# 		struggle:RICE_greenland_struggle = {
	# 			is_struggle_phase = struggle_RICE_greenland_phase_marginalization
	# 		}				
	# 	}
	# 	multiply = 1.25
	# }
}



RICE_expedition_gold_gain_max_value = {
	value = 0
	add = {
		value = global_var:RICE_greenland_resilience
		multiply = 0.05
	}
	add = {
		value = global_var:RICE_greenland_networks
		multiply = 0.05
	}
	min = 25
}

RICE_expedition_gold_loss_max_value = {
	value = 0
	add = {
		value = RICE_greenland_resilience_min_calc_value
		multiply = -0.05
	}
	add = {
		value = RICE_greenland_networks_min_calc_value
		multiply = -0.05
	}
	min = 25
	max = 100
}

RICE_expedition_resources_random_value = {
	value = 0
	add = {
		value = RICE_greenland_resilience_min_calc_value
		multiply = -0.05
	}
	add = {
		value = RICE_greenland_networks_min_calc_value
		multiply = -0.05
	}
	min = 25
	max = 100
}


