
RICE_sicily_latin_stronghold_appearance_value = {
	value = 1


	# If the Latin ruler isn't both religiously or culturally relevant, decrease chances
	if = {
		limit = {
			NOT = {
				faith.religious_head_title ?= title:k_papal_state
			}
		}
		multiply = 0.5
	}
	if = {
		limit = {
			NOR = {
				culture = { has_cultural_pillar = heritage_latin }
				culture = { has_cultural_pillar = heritage_frankish }
				culture = { has_cultural_pillar = heritage_iberian }
			}
		}
		multiply = 0.5
	}

	# Martial, stewardship, and intrigue feed into the chances
	add = {
		value = martial
		multiply = 0.25
	}
	add = {
		value = stewardship
		multiply = 0.25
	}
	add = {
		value = intrigue
		multiply = 0.25
	}

	# Trait effects
	if = {
		limit = {
			has_trait = greedy
		}
		add = 2
	}
	if = {
		limit = {
			has_trait = content
		}
		add = -2
	}
	if = {
		limit = {
			has_trait = ambitious
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = lazy
		}
		add = -1
	}
	if = {
		limit = {
			has_trait = brave
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = craven
		}
		add = -1
	}
	if = {
		limit = {
			has_trait = vengeful
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = forgiving
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_greek_stronghold_appearance_value = {
	value = 5
	# If the Greek ruler isn't both religiously or culturally relevant, decrease chances
	if = {
		limit = {
			NOT = {
				culture = { has_cultural_pillar = heritage_byzantine }
			}
		}
		multiply = 0.75
	}
	if = {
		limit = {
			NOT = {
				faith.religious_head_title ?= title:k_orthodox
			}
		}
		multiply = 0.75
	}

	# Martial, stewardship, and intrigue feed into the chances
	add = {
		value = martial
		multiply = 0.25
	}
	add = {
		value = stewardship
		multiply = 0.25
	}
	add = {
		value = intrigue
		multiply = 0.25
	}

	# Trait effects
	if = {
		limit = {
			has_trait = greedy
		}
		add = 2
	}
	if = {
		limit = {
			has_trait = content
		}
		add = -2
	}
	if = {
		limit = {
			has_trait = ambitious
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = lazy
		}
		add = -1
	}
	if = {
		limit = {
			has_trait = brave
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = craven
		}
		add = -1
	}
	if = {
		limit = {
			has_trait = vengeful
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = forgiving
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_arabic_stronghold_appearance_value = {
	value = 5
	# If the Arab-Berber ruler isn't both religiously or culturally relevant, decrease chances
	if = {
		limit = {
			NOT = {
				religion = religion:islam_religion
			}
		}
		multiply = 0.75
	}
	if = {
		limit = {
			NOR = {
				culture = { has_cultural_pillar = heritage_berber }
				culture = { has_cultural_pillar = heritage_arabic }
			}
		}
		multiply = 0.75
	}

	# Martial, stewardship, and intrigue feed into the chances
	add = {
		value = martial
		multiply = 0.25
	}
	add = {
		value = stewardship
		multiply = 0.25
	}
	add = {
		value = intrigue
		multiply = 0.25
	}

	# Trait effects
	if = {
		limit = {
			has_trait = greedy
		}
		add = 2
	}
	if = {
		limit = {
			has_trait = content
		}
		add = -2
	}
	if = {
		limit = {
			has_trait = ambitious
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = lazy
		}
		add = -1
	}
	if = {
		limit = {
			has_trait = brave
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = craven
		}
		add = -1
	}
	if = {
		limit = {
			has_trait = vengeful
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = forgiving
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_latin_stronghold_appearance_cb_value = {
	value = 1


	# If the Latin ruler isn't both religiously or culturally relevant, decrease chances
	if = {
		limit = {
			scope:attacker = {
				NOT = {
					faith.religious_head_title ?= title:k_papal_state
				}
			}
		}
		multiply = 0.5
	}
	if = {
		limit = {
			scope:attacker = {
				NOR = {
					culture = { has_cultural_pillar = heritage_latin }
					culture = { has_cultural_pillar = heritage_frankish }
					culture = { has_cultural_pillar = heritage_iberian }
				}				
			}
		}
		multiply = 0.5
	}

	# Martial, stewardship, and intrigue feed into the chances
	add = {
		value = scope:attacker.martial
		multiply = 0.25
	}
	add = {
		value = scope:attacker.stewardship
		multiply = 0.25
	}
	add = {
		value = scope:attacker.intrigue
		multiply = 0.25
	}

	# Trait effects
	if = {
		limit = {
			scope:attacker = {
				has_trait = greedy
			}
		}
		add = 2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = content
			}
		}
		add = -2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = ambitious
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = lazy
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = brave
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = craven
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = vengeful
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = forgiving
			}
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_greek_stronghold_appearance_cb_value = {
	value = 5

	# If the Greek ruler isn't both religiously or culturally relevant, decrease chances
	if = {
		limit = {
			scope:attacker = {
				NOT = {
					culture = { has_cultural_pillar = heritage_byzantine }
				}
			}
		}
		multiply = 0.5
	}
	if = {
		limit = {
			scope:attacker = {
				NOT = {
					faith.religious_head_title ?= title:k_orthodox
				}				
			}
		}
		multiply = 0.5
	}

	# Martial, stewardship, and intrigue feed into the chances
	add = {
		value = scope:attacker.martial
		multiply = 0.25
	}
	add = {
		value = scope:attacker.stewardship
		multiply = 0.25
	}
	add = {
		value = scope:attacker.intrigue
		multiply = 0.25
	}

	# Trait effects
	if = {
		limit = {
			scope:attacker = {
				has_trait = greedy
			}
		}
		add = 2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = content
			}
		}
		add = -2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = ambitious
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = lazy
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = brave
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = craven
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = vengeful
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = forgiving
			}
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_arabic_stronghold_appearance_cb_value = {
	value = 5

	

	# If the Arab ruler isn't both religiously or culturally relevant, decrease chances
	if = {
		limit = {
			scope:attacker = {
				NOT = {
					religion = religion:islam_religion
				}
			}
		}
		multiply = 0.5
	}
	if = {
		limit = {
			scope:attacker = {
				NOR = {
					culture = { has_cultural_pillar = heritage_berber }
					culture = { has_cultural_pillar = heritage_arabic }
				}			
			}
		}
		multiply = 0.5
	}

	# Martial, stewardship, and intrigue feed into the chances
	add = {
		value = scope:attacker.martial
		multiply = 0.25
	}
	add = {
		value = scope:attacker.stewardship
		multiply = 0.25
	}
	add = {
		value = scope:attacker.intrigue
		multiply = 0.25
	}

	# Trait effects
	if = {
		limit = {
			scope:attacker = {
				has_trait = greedy
			}
		}
		add = 2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = content
			}
		}
		add = -2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = ambitious
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = lazy
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = brave
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = craven
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = vengeful
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = forgiving
			}
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_latin_stronghold_removal_value = {
	value = 1

	# Diplomacy, martial, and intrigue feed into the chances
	add = {
		value = scope:attacker.diplomacy
		multiply = 0.25
	}
	add = {
		value = scope:attacker.martial
		multiply = 0.75
	}
	add = {
		value = scope:attacker.intrigue
		multiply = 0.5
	}

	# Trait effects
	if = {
		limit = {
			scope:attacker = {
				has_trait = zealous
			}
		}
		add = 2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = content
			}
		}
		add = -2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = just
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = lazy
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = brave
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = craven
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = vengeful
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = forgiving
			}
		}
		add = -1
	}

	min = 1
	max = 30
}

RICE_sicily_greek_stronghold_removal_value = {
	value = 5

	# Diplomacy, martial, and intrigue feed into the chances
	add = {
		value = scope:attacker.diplomacy
		multiply = 0.25
	}
	add = {
		value = scope:attacker.martial
		multiply = 0.75
	}
	add = {
		value = scope:attacker.intrigue
		multiply = 0.5
	}

	# Trait effects
	if = {
		limit = {
			scope:attacker = {
				has_trait = zealous
			}
		}
		add = 2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = content
			}
		}
		add = -2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = just
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = lazy
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = brave
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = craven
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = vengeful
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = forgiving
			}
		}
		add = -1
	}


	min = 1
	max = 30
}

RICE_sicily_arabic_stronghold_removal_value = {
	value = 5

	# Diplomacy, martial, and intrigue feed into the chances
	add = {
		value = scope:attacker.diplomacy
		multiply = 0.25
	}
	add = {
		value = scope:attacker.martial
		multiply = 0.75
	}
	add = {
		value = scope:attacker.intrigue
		multiply = 0.5
	}

	# Trait effects
	if = {
		limit = {
			scope:attacker = {
				has_trait = zealous
			}
		}
		add = 2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = content
			}
		}
		add = -2
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = just
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = lazy
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = brave
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = craven
			}
		}
		add = -1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = vengeful
			}
		}
		add = 1
	}
	if = {
		limit = {
			scope:attacker = {
				has_trait = forgiving
			}
		}
		add = -1
	}


	min = 1
	max = 30
}

RICE_sicily_latin_dominance_global_value = {
	value = 0
	struggle:RICE_sicily_struggle ?= {
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				RICE_sicily_latin_trigger = yes
			}
			add = 5
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				RICE_sicily_latin_trigger = yes
			}
			add = 3
		}
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_latin
					value >= trait_second_level
				}
			}
			add = 2
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_latin
					value >= trait_second_level
				}
			}
			add = 1
		}
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_latin
					value >= trait_third_level
				}
			}
			add = 3
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_latin
					value >= trait_third_level
				}
			}
			add = 2
		}
		every_involved_county = {
			limit = {
				RICE_sicily_latin_trigger = yes
			}
			add = 3
		}
		every_involved_county = {
			limit = {
				has_county_modifier = RICE_sicily_stronghold_latin
			}
			add = 2
		}
	}
}



RICE_sicily_greek_dominance_global_value = {
	value = 0
	struggle:RICE_sicily_struggle ?= {
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				RICE_sicily_greek_trigger = yes
			}
			add = 5
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				RICE_sicily_greek_trigger = yes
			}
			add = 3
		}
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_greek
					value >= trait_second_level
				}
			}
			add = 2
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_greek
					value >= trait_second_level
				}
			}
			add = 1
		}
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_greek
					value >= trait_third_level
				}
			}
			add = 3
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_greek
					value >= trait_third_level
				}
			}
			add = 2
		}
		every_involved_county = {
			limit = {
				RICE_sicily_greek_trigger = yes
			}
			add = 3
		}
		every_involved_county = {
			limit = {
				has_county_modifier = RICE_sicily_stronghold_greek
			}
			add = 2
		}		
	}
}



RICE_sicily_arabic_dominance_global_value = {
	value = 0
	struggle:RICE_sicily_struggle ?= {
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				RICE_sicily_arabic_trigger = yes
			}
			add = 5
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				RICE_sicily_arabic_trigger = yes
			}
			add = 3
		}
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_arabic
					value >= trait_second_level
				}
			}
			add = 2
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_arabic
					value >= trait_second_level
				}
			}
			add = 1
		}
		every_involved_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_arabic
					value >= trait_third_level
				}
			}
			add = 3
		}
		every_interloper_ruler = {
			limit = {
				highest_held_title_tier >= tier_county
				has_trait_xp = {
					trait = RICE_sicilian_ruler
					track = RICE_sicilian_ruler_arabic
					value >= trait_third_level
				}
			}
			add = 2
		}
		every_involved_county = {
			limit = {
				RICE_sicily_arabic_trigger = yes
			}
			add = 3
		}
		every_involved_county = {
			limit = {
				has_county_modifier = RICE_sicily_stronghold_arabic
			}
			add = 2
		}		
	}
}





