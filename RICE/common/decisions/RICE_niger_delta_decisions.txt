

RICE_niger_delta_request_beaded_crown = {
	picture = "gfx/interface/illustrations/decisions/decision_RICE_benin_kingdom.dds"
	major = yes

	ai_check_interval = 12

	cooldown = { days = 1095 }

	desc = RICE_niger_delta_request_beaded_crown_desc
	
	is_shown = {
		NOT = { has_title = title:d_ooni_of_ife }
		is_landed = yes
		OR = {
			religion = religion:west_african_orisha_religion
			religion = religion:odinala_religion
			religion = religion:ijaw_religion
			culture = {
				OR = {
					culture_has_west_african_heritage_pillar_trigger = yes
					culture_has_central_african_heritage_pillar_trigger = yes
					has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
				}
			}
		}
		any_held_title = {
			tier = tier_county
			any_county_province = {
				geographical_region = RICE_niger_delta_region	
			}
		}
	}
	
	is_valid = {
		custom_description = {
			text = RICE_niger_delta_geographical_req
			any_held_title = {
				tier = tier_county
				any_county_province = {
					geographical_region = RICE_niger_delta_region	
				}
			}
		}
		OR = {
			religion = religion:west_african_orisha_religion
			religion = religion:odinala_religion
			religion = religion:ijaw_religion
			culture = {
				OR = {
					culture_has_west_african_heritage_pillar_trigger = yes
					culture_has_central_african_heritage_pillar_trigger = yes
					has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
				}
			}
		}
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

    widget = {
    	gui = "decision_view_widget_RICE_niger_delta_beaded_crown_decision"
		controller = decision_option_list_controller
    	
		decision_has_second_step = yes
		decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "RICE_niger_delta_pick_a_ooni_gift_type" 


		# A modest sacrifice in honor of the Ooni - safe basic option, no gain or loss
		item = {
			value = RICE_niger_delta_modest_sacrifice_option
			is_valid = {
				OR = {
					is_ai = no
					gold >= 50
				}
			}
			current_description = RICE_niger_delta_modest_sacrifice_option_desc
			localization = RICE_niger_delta_modest_sacrifice_option
			icon = "gfx/interface/icons/message_feed/religious.dds"

			ai_chance = {
				value = 3
			}
		}

		# Gift of Gold to the Shrine of Oduduwa - piety option
		item = {
			value = RICE_niger_delta_gift_gold_oduduwa_shrine_option
			is_valid = {
				OR = {
					is_ai = no
					gold >= 100
				}
			}
			current_description = RICE_niger_delta_gift_gold_oduduwa_shrine_option_desc
			localization = RICE_niger_delta_gift_gold_oduduwa_shrine_option
			icon = "gfx/interface/icons/message_feed/sway_scheme.dds"

			ai_chance = {
				value = 3
			}
		}

		# A sacred vow to serve them - lose prestige, loyalty hook
		item = {
			value = RICE_niger_delta_sacred_vow_option
			is_valid = {
				can_add_hook = {
					target = title:d_ooni_of_ife.holder
					type = loyalty_hook
				}
			}
			current_description = RICE_niger_delta_sacred_vow_option_desc
			localization = RICE_niger_delta_sacred_vow_option
			icon = "gfx/interface/icons/message_feed/hook_strong.dds"

			ai_chance = {
				value = 3
			}
		}

		# Art artifacts - random amount of prestige or piety
		item = {
			value = RICE_niger_delta_art_gift_option
			is_valid = {
				OR = {
					is_ai = no
					gold >= 100
				}
				dynasty = {
					OR = {
						has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
						has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
						has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
						has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_art_gift_option_desc
			localization = RICE_niger_delta_art_gift_option
			icon = "gfx/interface/icons/message_feed/steward_job.dds"

			ai_chance = {
				value = 1
			}
		}

		# Cash bribe to the Ooni - gold and prestige loss
		item = {
			value = RICE_niger_delta_cash_gift_option
			is_valid = {
				OR = {
					is_ai = no
					gold >= 100
				}
			}
			current_description = RICE_niger_delta_cash_gift_option_desc
			localization = RICE_niger_delta_cash_gift_option
			icon = "gfx/interface/icons/message_feed/county_corruption.dds" #money

			ai_chance = {
				value = 3
			}
		}

		# Land to a relative
		item = {
			value = RICE_niger_delta_land_option
			is_valid = {
				any_held_title = {
					count > 1
				}
			}
			current_description = RICE_niger_delta_land_option_desc
			localization = RICE_niger_delta_land_option
			icon = "gfx/interface/icons/message_feed/titles.dds"

			ai_chance = {
				value = 1
			}
		}

		# Low ranked concubine/wife
		item = {
			value = RICE_niger_delta_low_concubine_option
			is_valid = {
				any_courtier = {
					is_landed = no
					is_ruler = no
					NOT = { is_close_or_extended_family_of = root }
					OR = {
						can_be_offered_as_concubine_to_character_trigger = {
							GIVER = root
							CHARACTER = title:d_ooni_of_ife.holder
						}
						can_marry_character_trigger = { CHARACTER = title:d_ooni_of_ife.holder }
					}
				}
			}
			current_description = RICE_niger_delta_low_concubine_option_desc
			localization = RICE_niger_delta_low_concubine_option
			icon = "gfx/interface/icons/message_feed/marriage.dds"

			ai_chance = {
				value = 3
			}
		}

		# High ranked concubine/wife
		item = {
			value = RICE_niger_delta_high_concubine_option
			is_valid = {
				any_courtier = {
					is_landed = no
					is_ruler = no
					is_close_or_extended_family_of = root
					OR = {
						can_be_offered_as_concubine_to_character_trigger = {
							GIVER = root
							CHARACTER = title:d_ooni_of_ife.holder
						}
						can_marry_character_trigger = { CHARACTER = title:d_ooni_of_ife.holder }
					}
				}
			}
			current_description = RICE_niger_delta_high_concubine_option_desc
			localization = RICE_niger_delta_high_concubine_option
			icon = "gfx/interface/icons/message_feed/marriage.dds"

			ai_chance = {
				value = 3
			}
		}

		# My presence is good enough - only for insane or weird characters or those who really hate the Ooni
		item = {
			value = RICE_niger_delta_no_gift_option
			current_description = RICE_niger_delta_no_gift_option_desc
			localization = RICE_niger_delta_no_gift_option
			icon = "gfx/interface/icons/message_feed/faction.dds"

			ai_chance = {
				value = 1
			}
		}		

	}

	effect = {
			
		custom_tooltip = RICE_niger_delta_request_beaded_crown_effect_tooltip
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_niger_delta_request_beaded_crown_context_tooltip
		}
		trigger_event = {
			id = niger_delta.0020
		}
	}

	cost = { 
		gold = { value = RICE_guanche_activity_cost } # Will depend
	}	

	ai_potential = {
		short_term_gold > RICE_guanche_activity_cost
	}

	ai_will_do = {
		base = 100
		modifier = {
			add = -15
			has_trait = content
		}
		modifier = {
			add = 15
			has_trait = ambitious
		}
		modifier = {
			add = -15
			has_trait = lazy
		}
		modifier = {
			add = 15
			has_trait = diligent
		}
	}
}


RICE_niger_delta_form_craft_guilds = {
	picture = "gfx/interface/illustrations/decisions/decision_RICE_benin_kingdom.dds"
	major = yes

	ai_check_interval = 24

	cooldown = { days = 1825 } #3650 1825
	
	desc = RICE_niger_delta_form_craft_guilds_desc
	
	is_shown = {
		highest_held_title_tier > tier_barony
		is_landed = yes
		OR = {
			has_title = title:c_ife
			culture = {
				has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
			}
		}
		dynasty = {
			NAND = {
				has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
			}
		}
		
	}
	
	is_valid = {
		OR = {
			has_title = title:c_ife
			culture = {
				has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
			}
		}
		dynasty = {
			NAND = {
				has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
			}
		}
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

    widget = {
    	gui = "decision_view_widget_RICE_niger_delta_form_craft_guild_decision"
		controller = decision_option_list_controller
    	
		decision_has_second_step = yes
		decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "RICE_niger_delta_pick_a_guild_to_form_type" 


		# Bronze Casters
		item = {
			value = RICE_niger_delta_form_bronze_casters_option
			is_shown = {
				NOT = {
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_form_bronze_casters_option_desc
			localization = RICE_niger_delta_form_bronze_casters_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_bronze.dds"

			ai_chance = {
				value = 1
			}
		}

		# Ironsmiths
		item = {
			value = RICE_niger_delta_form_ironsmiths_option
			is_shown = {
				NOT = {
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_form_ironsmiths_option_desc
			localization = RICE_niger_delta_form_ironsmiths_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_iron.dds"

			ai_chance = {
				value = 1
			}
		}

		# Ivory/Wood Carvers
		item = {
			value = RICE_niger_delta_form_ivory_and_wood_carvers_option
			is_shown = {
				NOT = {
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_form_ivory_and_wood_carvers_option_desc
			localization = RICE_niger_delta_form_ivory_and_wood_carvers_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_ivory.dds"

			ai_chance = {
				value = 1
			}
		}

		# Bead Makers
		item = {
			value = RICE_niger_delta_form_beadmakers_option
			is_shown = {
				NOT = {
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
					}
				}
			}
			is_valid = {
				OR = {
					has_title = title:c_ife
					has_title = title:d_ooni_of_ife
					custom_description = {
						text = "is_king_or_emperor"
						highest_held_title_tier >= tier_kingdom
					}
				}
			}
			current_description = RICE_niger_delta_form_beadmakers_option_desc
			localization = RICE_niger_delta_form_beadmakers_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_beads.dds"

			ai_chance = {
				value = 1
			}
		}

	}

	effect = {
		custom_tooltip = RICE_niger_delta_form_craft_guilds_effect_tooltip_1
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_niger_delta_form_craft_guilds_context_tooltip
		}

		save_scope_as = organizer

		show_as_tooltip = {
			dynasty = {
				add_dynasty_prestige = 100
				every_dynasty_member = {
					custom = RICE_all_dynasty_members
					add_prestige = 50
				}
			}
		}

		if = { # Bronze
			limit = { scope:RICE_niger_delta_form_bronze_casters_option = yes }
			set_variable = {
				name = RICE_guild_type
				value = flag:bronze_casters
			}
		}

		else_if = { # Iron
			limit = { scope:RICE_niger_delta_form_ironsmiths_option = yes }
			set_variable = {
				name = RICE_guild_type
				value = flag:ironsmiths
			}
		}

		else_if = { # Wood/Ivory
			limit = { scope:RICE_niger_delta_form_ivory_and_wood_carvers_option = yes }
			set_variable = {
				name = RICE_guild_type
				value = flag:ivory_and_wood_carvers
			}
		}

		else_if = { # Beads
			limit = { scope:RICE_niger_delta_form_beadmakers_option = yes }
			set_variable = {
				name = RICE_guild_type
				value = flag:beadmakers
			}
		}

		trigger_event = {
			id = niger_delta.0100
		}
	}

	cost = { 
		gold = { value = RICE_guanche_activity_cost } # Will depend
	}	

	ai_potential = {
		short_term_gold > RICE_guanche_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
		modifier = {
			add = -8
			has_trait = lazy
		}
		modifier = {
			add = 8
			has_trait = diligent
		}
	}
}



RICE_niger_delta_commission_art_from_craft_guilds = {
	picture = "gfx/interface/illustrations/decisions/decision_RICE_african_village.dds"

	ai_check_interval = 24

	cooldown = { days = RICE_guanche_standard_festival_cooldown_time } #3650 1825
	
	desc = RICE_niger_delta_commission_art_from_craft_guilds_desc
	
	is_shown = {
		highest_held_title_tier > tier_barony
		is_landed = yes
		OR = {
			has_title = title:c_ife
			has_title = title:d_ooni_of_ife
			culture = {
				has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
			}
		}
		OR = {
			dynasty = {
				has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
			}
			dynasty = {
				has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
			}
			dynasty = {
				has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
			}
			AND = {
				dynasty = {
					has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
				}
				OR = {
					has_title = title:c_ife
					has_title = title:d_ooni_of_ife
					custom_description = {
						text = "is_king_or_emperor"
						highest_held_title_tier >= tier_kingdom
					}
				}
			}
			# dynasty = {
			# 	OR = {
			# 		has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
			# 		has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
			# 		has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
			# 		has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
			# 	}
			# }
		}
		
	}
	
	is_valid = {
		OR = {
			has_title = title:c_ife
			has_title = title:d_ooni_of_ife
			culture = {
				has_cultural_tradition = tradition_RICE_kinship_based_craft_guilds
			}
		}
		dynasty = {
			OR = {
				has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
				has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
			}
		}
		OR = {
			dynasty = {
				has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
			}
			dynasty = {
				has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
			}
			dynasty = {
				has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
			}
			AND = {
				dynasty = {
					has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
				}
				custom_description = {
					text = "is_king_or_emperor"
					highest_held_title_tier >= tier_kingdom
				}
			}
			has_title = title:c_ife
			has_title = title:d_ooni_of_ife
		}
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

    widget = {
    	gui = "decision_view_widget_RICE_niger_delta_commission_craft_guild_decision"
		controller = decision_option_list_controller
    	
		decision_has_second_step = yes
		decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "RICE_niger_delta_pick_a_guild_type" 


		# Bronze Casters
		item = {
			value = RICE_niger_delta_bronze_casters_option
			is_valid = {
				custom_tooltip = {
					text = RICE_niger_delta_commission_bronze_casters_req
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_bronze_caster_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_bronze_casters_option_desc
			localization = RICE_niger_delta_bronze_casters_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_bronze.dds"

			ai_chance = {
				value = 2
			}
		}

		# Ironsmiths
		item = {
			value = RICE_niger_delta_ironsmiths_option
			is_valid = {
				custom_tooltip = {
					text = RICE_niger_delta_commission_ironsmiths_req
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_ironsmith_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_ironsmiths_option_desc
			localization = RICE_niger_delta_ironsmiths_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_iron.dds"

			ai_chance = {
				value = 2
			}
		}

		# Ivory/Wood Carvers
		item = {
			value = RICE_niger_delta_ivory_and_wood_carvers_option
			is_valid = {
				custom_tooltip = {
					text = RICE_niger_delta_commission_ivory_and_wood_carvers_req
					dynasty = {
						has_dynasty_modifier = RICE_niger_delta_ivory_and_wood_carver_guild_modifier
					}
				}
			}
			current_description = RICE_niger_delta_ivory_and_wood_carvers_option_desc
			localization = RICE_niger_delta_ivory_and_wood_carvers_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_ivory.dds"

			ai_chance = {
				value = 2
			}
		}

		# Bead Makers
		item = {
			value = RICE_niger_delta_beadmakers_option
			is_valid = {
				OR = {
					has_title = title:c_ife
					has_title = title:d_ooni_of_ife
					AND = {
						custom_description = {
							text = "is_king_or_emperor"
							highest_held_title_tier >= tier_kingdom
						}
						custom_tooltip = {
							text = RICE_niger_delta_commission_beadmakers_req
							dynasty = {
								has_dynasty_modifier = RICE_niger_delta_bead_maker_guild_modifier
							}
						}
					}
				}
			}
			current_description = RICE_niger_delta_beadmakers_option_desc
			localization = RICE_niger_delta_beadmakers_option
			icon = "gfx/interface/icons/widgets/RICE_niger_delta_guild_beads.dds"

			ai_chance = {
				value = 0
				if = {
					limit = {
						gold >= 150
					}
					add = 2
				}
			}
		}

	}

	effect = {
		custom_tooltip = RICE_niger_delta_commission_art_from_craft_guilds_effect_tooltip_1
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_niger_delta_commission_art_from_craft_guilds_context_tooltip
		}

		if = { # Bronze
			limit = { scope:RICE_niger_delta_bronze_casters_option = yes }
			set_variable = {
				name = RICE_art_type
				value = flag:bronze
			}
		}

		else_if = { # Iron
			limit = { scope:RICE_niger_delta_ironsmiths_option = yes }
			set_variable = {
				name = RICE_art_type
				value = flag:iron
			}
		}

		else_if = { # Wood/Ivory
			limit = { scope:RICE_niger_delta_ivory_and_wood_carvers_option = yes }
			random_list = {
				50 = {
					set_variable = {
						name = RICE_art_type
						value = flag:ivory
					}
				}
				50 = {
					set_variable = {
						name = RICE_art_type
						value = flag:wood
					}
				}
			}
		}

		else_if = { # Beads
			limit = { scope:RICE_niger_delta_beadmakers_option = yes }
			if = {
				limit = {
					capital_county = { is_coastal_county = yes }
				}
				set_variable = {
					name = RICE_art_type
					value = flag:glass
				}
			}
			else = {				
				set_variable = {
					name = RICE_art_type
					value = flag:coral
				}
			}
		}

		trigger_event = {
			id = niger_delta.0020
		}
	}

	minimum_cost = {
		gold = 50
	}
	
	ai_potential = {
		short_term_gold > 100
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
		modifier = {
			add = -8
			has_trait = lazy
		}
		modifier = {
			add = 8
			has_trait = diligent
		}
	}
}

RICE_niger_delta_partake_olojo_festival = {
	picture = "gfx/interface/illustrations/decisions/decision_RICE_generic_african_festival.dds"

	ai_check_interval = 36

	cooldown = { days = RICE_guanche_standard_festival_cooldown_time } #3650 1825
	
	desc = RICE_niger_delta_partake_olojo_festival_desc
	
	is_shown = {
		#highest_held_title_tier > tier_barony
		is_landed = yes
		OR = {
			culture = {
				has_cultural_pillar = heritage_yoruba
			}
			religion = religion:west_african_orisha_religion
		}
	}
	
	is_valid = {
		OR = {
			culture = {
				has_cultural_pillar = heritage_yoruba
			}
			religion = religion:west_african_orisha_religion
		}
		custom_description = {
			text = RICE_decision_olojo_festival_month_requirement
			current_month >= 7
			current_month <= 9
		}
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		if = {
			limit = {
				NOT = { religion = religion:west_african_orisha_religion }
				NOT = { has_title = title:d_ooni_of_ife }
			}
			custom_tooltip = RICE_niger_delta_partake_olojo_festival_effect_tooltip_1
		}		
		else_if = {
			limit = {
				NOT = { has_title = title:d_ooni_of_ife }
			}
			custom_tooltip = RICE_niger_delta_partake_olojo_festival_effect_tooltip_2
		}
		if = {
			limit = {
				NOT = { has_title = title:d_ooni_of_ife }
			}
			custom_tooltip = RICE_niger_delta_partake_olojo_festival_effect_tooltip_3
		}
		if = {
			limit = {
				has_title = title:d_ooni_of_ife
			}
			custom_tooltip = RICE_niger_delta_partake_olojo_festival_effect_tooltip_4
		}
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_niger_delta_partake_olojo_festival_context_tooltip
		}
		trigger_event = {
			id = niger_delta.0020
		}
	}

	cost = { 
		gold = { value = RICE_guanche_activity_cost } # Will depend
	}	

	ai_potential = {
		short_term_gold > RICE_guanche_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = -15
			NOT = { has_title = title:d_ooni_of_ife }
		}
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
		modifier = {
			add = -8
			has_trait = lazy
		}
		modifier = {
			add = 8
			has_trait = diligent
		}
	}
}

RICE_niger_delta_celebrate_new_yam_festival = {
	picture = "gfx/interface/illustrations/decisions/decision_RICE_generic_african_festival.dds"

	ai_check_interval = 36

	cooldown = { days = RICE_guanche_standard_festival_cooldown_time } #3650 1825
	
	desc = RICE_niger_delta_celebrate_new_yam_festival_desc
	
	is_shown = {
		highest_held_title_tier > tier_barony
		is_landed = yes
		culture = {
			OR = {
				has_cultural_pillar = heritage_akan
				has_cultural_pillar = heritage_yoruba
			}
		}
	}
	
	is_valid = {
		custom_description = {
			text = RICE_decision_new_yam_month_req
			current_month >= 7
			current_month <= 9	
		}
		culture = {
			OR = {
				has_cultural_pillar = heritage_akan
				has_cultural_pillar = heritage_yoruba
			}
		}
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = RICE_niger_delta_celebrate_new_yam_festival_effect_tooltip_1
		custom_tooltip = RICE_niger_delta_celebrate_new_yam_festival_effect_tooltip_2
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = RICE_niger_delta_celebrate_new_yam_festival_context_tooltip
		}
		trigger_event = {
			id = niger_delta.0030
		}
	}

	cost = { 
		gold = { value = RICE_guanche_activity_cost } # Will depend
	}	

	ai_potential = {
		short_term_gold > RICE_guanche_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
		modifier = {
			add = -8
			has_trait = lazy
		}
		modifier = {
			add = 8
			has_trait = diligent
		}
	}
}